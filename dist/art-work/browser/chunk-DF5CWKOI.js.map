{
  "version": 3,
  "sources": ["libs/feature-auth/src/lib/reset-password/reset-password.schema.ts", "libs/feature-auth/src/lib/reset-password/reset-password.component.ts"],
  "sourcesContent": ["import { z } from 'zod';\n\nexport const resetPasswordSchema = z\n  .object({\n    password: z.string().min(8, 'Password must be at least 8 characters'),\n    confirmPassword: z.string().min(1, 'Please confirm your password'),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: ['confirmPassword'],\n  });\n\nexport type ResetPasswordModel = z.infer<typeof resetPasswordSchema>;\n", "import { Component, inject, input, signal } from '@angular/core';\nimport { Router, RouterLink } from '@angular/router';\nimport { form, FormField, submit, validateStandardSchema } from '@angular/forms/signals';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { AuthStore } from '@art-work/core';\nimport { resetPasswordSchema, ResetPasswordModel } from './reset-password.schema';\n\n@Component({\n  selector: 'lib-reset-password',\n  standalone: true,\n  imports: [\n    FormField,\n    RouterLink,\n    MatCardModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    MatProgressSpinnerModule,\n  ],\n  template: `\n    <div class=\"auth-page\">\n      <mat-card class=\"auth-card\">\n        <mat-card-header>\n          <mat-card-title>Set New Password</mat-card-title>\n          <mat-card-subtitle>Choose a strong password</mat-card-subtitle>\n        </mat-card-header>\n\n        <mat-card-content>\n          @if (!oobCode()) {\n            <div class=\"banner-error-block\">\n              <mat-icon>error_outline</mat-icon>\n              <span>\n                Invalid or expired reset link.\n                <a routerLink=\"/auth/forgot-password\">Request a new one</a>.\n              </span>\n            </div>\n          } @else {\n            @if (successMessage()) {\n              <div class=\"banner-success\">\n                <mat-icon>check_circle</mat-icon>\n                <span>{{ successMessage() }}</span>\n              </div>\n              <div class=\"auth-actions\">\n                <a mat-flat-button routerLink=\"/auth/login\">Sign in with new password</a>\n              </div>\n            }\n\n            @if (errorMessage()) {\n              <mat-error class=\"banner-error\">{{ errorMessage() }}</mat-error>\n            }\n\n            @if (!successMessage()) {\n              <form class=\"auth-form\" (submit)=\"onSubmit($event)\">\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>New Password</mat-label>\n                  <input\n                    matInput\n                    [type]=\"hidePassword() ? 'password' : 'text'\"\n                    [formField]=\"resetForm.password\"\n                    autocomplete=\"new-password\"\n                  />\n                  <button mat-icon-button matSuffix type=\"button\" (click)=\"hidePassword.set(!hidePassword())\">\n                    <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>\n                  </button>\n                  <mat-hint>Minimum 8 characters</mat-hint>\n                  @if (resetForm.password().touched() && resetForm.password().invalid()) {\n                    <mat-error>{{ resetForm.password().errors()[0]?.message }}</mat-error>\n                  }\n                </mat-form-field>\n\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Confirm New Password</mat-label>\n                  <input\n                    matInput\n                    [type]=\"hideConfirm() ? 'password' : 'text'\"\n                    [formField]=\"resetForm.confirmPassword\"\n                    autocomplete=\"new-password\"\n                  />\n                  <button mat-icon-button matSuffix type=\"button\" (click)=\"hideConfirm.set(!hideConfirm())\">\n                    <mat-icon>{{ hideConfirm() ? 'visibility_off' : 'visibility' }}</mat-icon>\n                  </button>\n                  @if (resetForm.confirmPassword().touched() && resetForm.confirmPassword().invalid()) {\n                    <mat-error>{{ resetForm.confirmPassword().errors()[0]?.message }}</mat-error>\n                  }\n                </mat-form-field>\n\n                <div class=\"auth-actions\">\n                  <button mat-flat-button type=\"submit\" [disabled]=\"isSubmitting()\">\n                    @if (isSubmitting()) {\n                      <mat-spinner diameter=\"20\" />\n                    } @else {\n                      Update Password\n                    }\n                  </button>\n                </div>\n              </form>\n            }\n          }\n        </mat-card-content>\n\n        <mat-card-actions align=\"end\">\n          <a mat-button routerLink=\"/auth/login\">\n            <mat-icon>arrow_back</mat-icon>\n            Back to Sign In\n          </a>\n        </mat-card-actions>\n      </mat-card>\n    </div>\n  `,\n  styles: `\n    .banner-success {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 12px 16px;\n      border-radius: 4px;\n      background-color: #e8f5e9;\n      color: #2e7d32;\n      margin-bottom: 16px;\n      font-size: 14px;\n    }\n\n    .banner-error-block {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 12px 16px;\n      border-radius: 4px;\n      background-color: #fce4ec;\n      color: #c62828;\n      margin-bottom: 16px;\n      font-size: 14px;\n    }\n\n    .banner-error {\n      display: block;\n      margin-bottom: 12px;\n      font-size: 14px;\n    }\n  `,\n})\nexport class ResetPasswordComponent {\n  private readonly authStore = inject(AuthStore);\n  private readonly router = inject(Router);\n\n  /** Query param injected from the Firebase password-reset email link (?oobCode=...) */\n  readonly oobCode = input<string>('');\n\n  readonly isSubmitting = signal(false);\n  readonly successMessage = signal('');\n  readonly errorMessage = signal('');\n  readonly hidePassword = signal(true);\n  readonly hideConfirm = signal(true);\n\n  readonly resetModel = signal<ResetPasswordModel>({ password: '', confirmPassword: '' });\n\n  readonly resetForm = form(this.resetModel, (s) => {\n    validateStandardSchema(s, resetPasswordSchema);\n  });\n\n  onSubmit(event: Event): void {\n    event.preventDefault();\n    this.errorMessage.set('');\n\n    submit(this.resetForm, async () => {\n      this.isSubmitting.set(true);\n      try {\n        await this.authStore.resetPassword(this.oobCode(), this.resetModel().password);\n        this.successMessage.set('Password updated successfully.');\n        setTimeout(() => this.router.navigate(['/auth/login']), 2000);\n      } catch {\n        this.errorMessage.set('Failed to reset password. The link may have expired.');\n      } finally {\n        this.isSubmitting.set(false);\n      }\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
